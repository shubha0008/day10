<!DOCTYPE html>
<html>
<body>
  <p >Enter 4 digit number</p>

  <input type="number" oninput="checkNumberFieldLength(this);" id ="fourNum">
  <button onclick="myFunction()">Try it</button>


<script>



function checkNumberFieldLength(elem){
    if (elem.value.length > 4) {
        elem.value = elem.value.slice(0,4); 
    }
}
function myFunction(num = document.getElementById("fourNum").value) {
 
 //converting number to array
 var arr = num.toString().split('') ;
for(i=0;i<arr.length;i++) arr[i] = +arr[i] ;

var desc = num.toString().split('') ;
for(i=desc.length-1;i>=0;i--) desc[i] = +desc[i] ;
//ascending
function ascending(points) {
  points.sort(function(a, b){return a - b});
}
ascending(arr);
//descending
function descending(points) {
  points.sort(function(a, b){return b - a});
}
descending(desc);


function ArrayToNumber(arr){
 var i ;
 var k = 0 ;
 for (i = 0 ; i<arr.length;i++)
 {
     k = 10*k +arr[i];
 }
 return k;
}
var num1 = ArrayToNumber(arr);
var num2 = ArrayToNumber(desc);
var result = num2-num1;

function display() {
  var x = document.createElement("P");
  var t = document.createTextNode(num2 + " - " + num1 + "  =  " + result) ;
  x.appendChild(t);
  document.body.appendChild(x);
}

if (result!==6174)
{
    display();
 myFunction(result);
}
else{
    display();
    }
}  
</script>

</body>
</html>
